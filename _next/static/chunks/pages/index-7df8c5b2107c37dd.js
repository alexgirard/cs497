(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3685:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(8715)}])},8715:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return p},getInitialProps:function(){return m}});var r=t(4051),u=t.n(r),i=t(5893),o=t(7294),s=t(2680),a=t(6249);var c=function(e){var n,t=e.item,r=(0,o.useContext)(a.c),u=(r.updateItem,r.deleteItem);return(0,i.jsxs)("li",{className:"flex items-center d-flex rounded-lg my-2 py-2 px-4",children:[(0,i.jsx)("p",{className:"flex-1 text-gray-800 mx-2",children:null===t||void 0===t||null===(n=t.fields)||void 0===n?void 0:n.name}),(0,i.jsx)("button",{type:"button",className:"text-sm bg-red-500 hover:bg-red-700 py-1 px-2 rounded",onClick:function(){return u(null===t||void 0===t?void 0:t.id)},children:"Delete"})]})},l=function(){var e=(0,o.useState)(""),n=e[0],t=e[1],r=(0,o.useContext)(a.c).addItem;return(0,i.jsx)("form",{className:"form my-6",onSubmit:function(e){e.preventDefault(),r({name:n}),t("")},children:(0,i.jsxs)("div",{className:"flex justify-between w-full",children:[(0,i.jsx)("input",{type:"text",name:"item",value:n,onChange:function(e){return t(e.target.value)},placeholder:"ex. Eggs",className:"flex-1 border border-gray-200 p-2 mr-2 rounded-lg appearance-none focus:outline-none focus:border-gray-500"}),(0,i.jsx)("button",{type:"submit",className:"rounded bg-blue-500 hover:bg-blue-600 py-2 px-4",children:"+ Add Item"})]})})};function d(e,n,t,r,u,i,o){try{var s=e[i](o),a=s.value}catch(c){return void t(c)}s.done?n(a):Promise.resolve(a).then(r,u)}function f(e){return function(){var n=this,t=arguments;return new Promise((function(r,u){var i=e.apply(n,t);function o(e){d(i,r,u,o,s,"next",e)}function s(e){d(i,r,u,o,s,"throw",e)}o(void 0)}))}}function p(e){var n=e.initialItems,t=(0,o.useContext)(a.c),r=t.items,u=t.setItems;return(0,o.useEffect)((function(){u(n)}),[n,u]),(0,i.jsx)("div",{className:"container mx-auto my-6 max-w-xl",children:(0,i.jsxs)("main",{children:[(0,i.jsx)("p",{className:"text-2xl font-bold py-2",children:"\ud83d\uded2 Grocery List"}),(0,i.jsx)(l,{}),(0,i.jsx)("ul",{children:r&&r.map((function(e){return(0,i.jsx)(c,{item:e},e.id)}))})]})})}function m(){return x.apply(this,arguments)}function x(){return(x=f(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Kz.select({}).firstPage();case 3:return n=e.sent,e.abrupt("return",{props:{initialItems:(0,s.N2)(n)}});case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{props:{err:"Something went wrong \ud83d\ude15"}});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}},2680:function(e,n,t){"use strict";t.d(n,{Kz:function(){return u},N2:function(){return i}});var r=t(3829);r.configure({apiKey:"keyWYK0donDGlpNLC"});var u=r.base("appQUPr7HXz9IX9N6")("tblcQ3NlW9qgUWA7p"),i=function(e){return e.map((function(e){return o(e)}))},o=function(e){return{id:e.id,fields:e.fields}}}},function(e){e.O(0,[829,774,888,179],(function(){return n=3685,e(e.s=n);var n}));var n=e.O();_N_E=n}]);